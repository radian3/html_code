

<html>
<script type = "text/javascript">
document.write("<head><title> Class Schedule Graphic Visualizer </title></head><body><h3 style = \"position:absolute;top:0px;left:900px;\"> Class Schedule Graphic Visualizer </h3> <form id = \"addForm\"  action = \"\" method = \"post\"><table border = \"0\" style = \"position:absolute;left:900px;top:50px;\"><tr><td>  Enter title: <input type = \"text\" name = \"one\" value = \"\" size = \"20\" /> </td> </tr><tr><td> Select days of Week: <input type = \"checkbox\" name = \"d1\" id = \"d1\" value = \"\" size = \"20\" /> Sunday <input type = \"checkbox\" name = \"d2\" id = \"d2\"  value = \"\" size = \"20\" /> Monday <input type = \"checkbox\" name = \"d3\" id = \"d3\"  value = \"\" size = \"20\" /> Tuesday </td></tr><tr><td><input type = \"checkbox\" name = \"d4\" id = \"d4\"  value = \"\" size = \"20\" /> Wednesday <input type = \"checkbox\" name = \"d5\" id = \"d5\"  value = \"\" size = \"20\" /> Thursday <input type = \"checkbox\" name = \"d6\" id = \"d6\"  value = \"\" size = \"20\" /> Friday <input type = \"checkbox\" name = \"d7\" id = \"d7\"  value = \"\" size = \"20\" /> Saturday </td> </tr><tr><td>  Enter start time: <input type = \"text\" name = \"start\" value = \"\" size = \"20\" /> </td> </tr><tr><td>  Enter finish time: <input type = \"text\" name = \"finish\" value = \"\" size = \"20\" /> </td> </tr><tr><td><input type = \"button\" name = \"addBtn\" value = \"Add Class\" /> <input type = \"reset\" value = \"Clear\" /> </td></tr></table></form></body></body>");
document.write("<table border = \"1\" style = \"position:absolute;top:0px;\" ><tr><td id = \"a1\">Time</td><td align = \"center\" width = \"100px\">Sunday</td><td align = \"center\" width = \"100px\">Monday</td><td align = \"center\" width = \"100px\">Tuesday</td><td align = \"center\" width = \"100px\">Wednesday</td><td align = \"center\" width = \"100px\">Thursday</td><td align = \"center\" width = \"100px\">Friday</td><td align = \"center\" width = \"100px\">Saturday</td></tr>");
var time = ["8:00am", "8:30am", "9:00am", "9:30am", "10:00am", "10:30am", "11:00am", "11:30am", "12:00pm", "12:30pm", "1:00pm", "1:30pm", "2:00pm", "2:30pm", "3:00pm", "3:30pm", "4:00pm", "4:30pm", "5:00pm", "5:30pm", "6:00pm", "6:30pm", "7:00pm", "7:30pm", "8:00pm", "8:30pm", "9:00pm", "9:30pm", "10:00pm", "10:30pm",];
var k = 0;
for (var i = 0; i < 30; i++){        
	document.write("<tr><td height = \"17\" valign = \"top\" style = \"font-size: 70%;\">".concat(time[i]).concat("</td>"));
        for (var k = 0; k < 7; k++){
		document.write("<td id = \"a".concat((i).toString()).concat(",").concat((k).toString()).concat("\"></td>"));}
	document.write("</tr>");}
	document.write("</table></form></body>");
		

</script>
<script type = "text/javascript">



  document.getElementById("addForm").addBtn.onclick = main;

  function normalizeStart(min){
	  if (min == 0 || min == 30){ return min;}
	  if (min < 30){ min = 0; return min;}
	  min = 30;
	  return min;}

  function normalizeFinish(min){
	  if (min == 0 || min == 30){ return min;}
	  if (min <= 30){ return 30;}
	  return 60;

  }

function getColorLength(hr1, min1, mer1, hr2, min2, mer2){

	var total1 = hr1*2+min1/30
if (mer1 == "pm" && hr1 != 12){total1 += 24;}

var total2 = hr2*2+min2/30;
if (mer2 == "pm" && hr2 != 12){total2 += 24;}

return total2-total1;}

function startIndex(hr, min, mer){
var x = getColorLength(8, 0, "am", hr, min, mer)
	return x+1;

}


function colorIn(startIdx, colorLength, daysArray){
//document.getElementById("a12,0").style.backgroundColor="blue";
alert(startIdx);
alert(colorLength);
alert(daysArray);
	if (daysArray.length == 0){return;}
for (var j = 0; j <= colorLength; j++){
	for (var i = 0; i < daysArray.length; i++){
		
			document.getElementById("a".concat((j+startIdx-1).toString()).concat(",").concat((daysArray[i]-1).toString())).style.backgroundColor="blue";}}
}


function main()
  {
   var elt = document.getElementById("addForm");      
   var one = elt.start.value;
   if (elt.start.value.indexOf(":") == -1 || elt.finish.value.indexOf(":") == -1 || elt.start.value.indexOf("m") == -1 || elt.finish.value.indexOf("m") == -1	){ alert("Invalid start or finish time.");return;}
   var idxOne = one.indexOf(":");
   if (idxOne == 1){
    var hrInp = parseFloat(one.substring(0, 1));
    var minInp = parseFloat(one.substring(2, 4));
    var meridiem = one.substring(4, 6);}    
   else{
    var hrInp = parseFloat(one.substring(0, 2));
    var minInp = parseFloat(one.substring(3, 5));
    var meridiem = one.substring(5, 7);}


   minInp = normalizeStart(minInp);
	   
   var two = elt.finish.value;

   var idxTwo = two.indexOf(":");
   if (idxTwo == 1){
    var hrInp2 = parseFloat(two.substring(0, 1));
    var minInp2 = parseFloat(two.substring(2, 4));
    var meridiem2 = two.substring(4, 6);}    
   else{
    var hrInp2 = parseFloat(two.substring(0, 2));
    var minInp2 = parseFloat(two.substring(3, 5));
    var meridiem2 = two.substring(5, 7);}

   minInp2 = normalizeFinish(minInp2);
   if (minInp2 == 60){ minInp2 = 0; hrInp2++;
   if (hrInp2 == 12){meridiem2 = 'pm'}} 
   if (hrInp2 == 13){hrInp2 = 1;}
  daysSelected = new Array();
  
  if (document.getElementById("d1").checked) {daysSelected.push(1);};
  if (document.getElementById('d2').checked) {daysSelected.push(2);}
  if (document.getElementById('d3').checked) {daysSelected.push(3);}
  if (document.getElementById('d4').checked) {daysSelected.push(4);}
  if (document.getElementById('d5').checked) {daysSelected.push(5);}
  if (document.getElementById('d6').checked) {daysSelected.push(6);}
  if (document.getElementById('d7').checked) {daysSelected.push(7);}
  
//alert(hrInp.toString().concat(":").concat(minInp.toString()).concat(meridiem.toString()));
//alert(hrInp2.toString().concat(":").concat(minInp2.toString()).concat(meridiem2.toString()));
//alert(getColorLength(hrInp, minInp, meridiem, hrInp2, minInp2, meridiem2));
//alert(startIndex(hrInp, minInp, meridiem));
  var startIdx = startIndex(hrInp, minInp, meridiem);
  var colorLength = getColorLength(hrInp, minInp, meridiem, hrInp2, minInp2, meridiem2);
  
  colorIn(startIdx, colorLength, daysSelected);
  }
</script>



</html>


